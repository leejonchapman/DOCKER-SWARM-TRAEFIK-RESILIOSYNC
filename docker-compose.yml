version: "3.7"
services:
  resilio-sync:
    image: linuxserver/resilio-sync
    container_name: resilio-sync
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
      - UMASK_SET=<022>
    volumes:
      - /mnt/sync/resilio-sync/config:/config
      - /mnt/sync/resilio-sync/downloads:/downloads
      - /mnt/sync/resilio-sync/sync/:/sync
    ports:
      - 8888:8888
      - 55555:55555
    networks:
      - docker-compose-webserver_default
    labels:
      - traefik.enable=true
      - traefik.backend=resilo-sync
      - traefik.docker.network=web
      - traefik.8888.frontend.rule=Host:sync.leejonchapman.com
      - traefik.8888.port=8888
      - traefik.55555.frontend.rule=Host:sync.leejonchapman.com
      - traefik.55555.port=55555
    restart: unless-stopped
networks:
  docker-compose-webserver_default:
    external: true
